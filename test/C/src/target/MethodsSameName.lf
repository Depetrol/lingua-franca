/** This tests that reactors can have methods with the same names. */
target C

reactor Foo {
    state foo: int(2)

    reaction(startup) {=
        add(40);
        lf_print("Foo: 2 + 40 = %d", self->foo);
        if (self->foo != 42) {
            lf_print_error_and_exit("Expected 42!");
        }
    =}


    method add(x: int) {= self->foo += x; =}
}

main reactor {
    a = new Foo()

    state foo: int(2)

    reaction(startup) {=
        add(40);
        lf_print("Main: 2 + 40 = %d", self->foo);
        if (self->foo != 42) {
            lf_print_error_and_exit("Expected 42!");
        }
    =}


    method add(x: int) {= self->foo += x; =}
}
